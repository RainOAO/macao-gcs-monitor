# æ¾³é–€æ–°èå±€æ–°èç›£æ§ç³»çµ±

è‡ªå‹•ç›£æ§æ¾³é–€æ–°èå±€ç¶²ç«™ï¼Œ**æŠ“å–ä¸€å¤©å…§æ‰€æœ‰æ–°è**ï¼Œæª¢æŸ¥**æ¨™é¡Œå’Œå…§æ–‡**ä¸­æ˜¯å¦æåŠæŒ‡å®šè©ï¼Œä¸¦é€šé **Email** æ¨é€é€šçŸ¥ã€‚


## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£ç’°å¢ƒ

```
setup_env.bat
```

### ç¬¬äºŒæ­¥ï¼šå–å¾— Gmail æ‡‰ç”¨å°ˆç”¨å¯†ç¢¼

1. ç™»å…¥ [Google å¸³æˆ¶](https://myaccount.google.com/)
2. é€²å…¥ **å®‰å…¨æ€§** â†’ ç¢ºä¿å·²é–‹å•Ÿ **å…©æ­¥é©Ÿé©—è­‰**
3. å­˜å– [æ‡‰ç”¨å°ˆç”¨å¯†ç¢¼é é¢](https://myaccount.google.com/apppasswords)
4. å»ºç«‹æ‡‰ç”¨å¯†ç¢¼ï¼Œè¤‡è£½ **16 ä½å¯†ç¢¼**

### ç¬¬ä¸‰æ­¥ï¼šç·¨è¼¯é…ç½®æ–‡ä»¶ `config.json`

```json
{
  "smtp_server": "smtp.gmail.com",
  "smtp_port": 587,
  "smtp_username": "ä½ çš„Gmailåœ°å€@gmail.com",
  "smtp_password": "ä½ çš„16ä½æ‡‰ç”¨å°ˆç”¨å¯†ç¢¼",
  "email_from": "ä½ çš„Gmailåœ°å€@gmail.com",
  "email_to": ["æ”¶ä»¶äººéƒµç®±@example.com"]
}
```

### ç¬¬å››æ­¥ï¼šæ¸¬è©¦éƒµä»¶ç™¼é€

```
venv\Scripts\python.exe test_email.py
```

æ”¶åˆ°æ¸¬è©¦éƒµä»¶ â†’ ç¹¼çºŒä¸‹ä¸€æ­¥

### ç¬¬äº”æ­¥ï¼šæ¸¬è©¦é‹è¡Œ

```
run.bat --test
```

- æŠ“å–å¤šé æ–°èä¸¦åˆ†æå…§æ–‡
- é¡¯ç¤ºåŒ…å«é—œéµè©çš„æ–°è
- **ä¸æœƒ**ç™¼é€éƒµä»¶

### ç¬¬å…­æ­¥ï¼šæ­£å¼é‹è¡Œ

```
run.bat
```

### ç¬¬ä¸ƒæ­¥ï¼šè¨­ç½®å®šæ™‚ä»»å‹™ï¼ˆå¯é¸ï¼‰

```
setup_task.bat
```

æ¯å¤© 09:00 è‡ªå‹•é‹è¡Œã€‚

---

##  å®Œæ•´é…ç½®èªªæ˜

| åƒæ•¸                   | èªªæ˜                          | é è¨­å€¼             |
| ---------------------- | ----------------------------- | ------------------ |
| `smtp_server`          | SMTP ä¼ºæœå™¨                   | `smtp.gmail.com`   |
| `smtp_port`            | SMTP ç«¯å£                     | `587`              |
| `smtp_use_ssl`         | ä½¿ç”¨ SSLï¼ˆç«¯å£465æ™‚è¨­ç‚ºtrueï¼‰ | `false`            |
| `smtp_username`        | ç™¼ä»¶äººå¸³è™Ÿ                    | å¿…å¡«               |
| `smtp_password`        | æ‡‰ç”¨å°ˆç”¨å¯†ç¢¼                  | å¿…å¡«               |
| `email_from`           | ç™¼ä»¶äººåœ°å€                    | å¿…å¡«               |
| `email_to`             | æ”¶ä»¶äººåˆ—è¡¨ï¼ˆæ”¯æ´å¤šå€‹ï¼‰        | å¿…å¡«               |
| `email_subject_prefix` | éƒµä»¶æ¨™é¡Œå‰ç¶´                  | `ã€æ¾³é–€æ–°èç›£æ§ã€‘` |
| `keywords`             | ç›£æ§é—œéµè©åˆ—è¡¨                | è»åœ˜èŒç›¸é—œ         |
| `max_pages`            | æœ€å¤šæŠ“å–é æ•¸                  | `10`               |
| `days_to_check`        | æª¢æŸ¥æœ€è¿‘å¹¾å¤©                  | `2`                |
| `check_content`        | æ˜¯å¦æª¢æŸ¥å…§æ–‡                  | `true`             |
| `concurrent_requests`  | ä½µç™¼ç·šç¨‹æ•¸                    | `5`                |

### å…¶ä»–éƒµç®± SMTP è¨­å®š

| éƒµç®±æœå‹™ | smtp_server    | smtp_port | smtp_use_ssl |
| -------- | -------------- | --------- | ------------ |
| Gmail    | smtp.gmail.com | 587       | false        |
| QQ éƒµç®±  | smtp.qq.com    | 587       | false        |
| 163 éƒµç®± | smtp.163.com   | 465       | true         |

---

##  å°ˆæ¡ˆçµæ§‹

```
plugin-email/
â”œâ”€â”€ macau_news_monitor.py   # æ ¸å¿ƒç›£æ§ç¨‹å¼
â”œâ”€â”€ config.json             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ run.bat                 # é‹è¡Œè…³æœ¬
â”œâ”€â”€ setup_task.bat          # å®šæ™‚ä»»å‹™è¨­ç½®
â”œâ”€â”€ setup_env.bat           # ç’°å¢ƒå®‰è£
â”œâ”€â”€ test_email.py           # éƒµä»¶ç™¼é€æ¸¬è©¦
â”œâ”€â”€ requirements.txt        # Python ä¾è³´
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥
â”œâ”€â”€ README.md               # æœ¬æ–‡æª”
â”œâ”€â”€ sent_news.json          # å·²æ¨é€è¨˜éŒ„ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â””â”€â”€ macau_news_monitor.log  # é‹è¡Œæ—¥èªŒï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
```

---

**æœ€å¾Œæ›´æ–°**: 2026-02-14
